# 日本語音声アシスタント設定ガイド

## Alexa スキル設定

### 1. Amazon Developer Console でスキルを作成
1. [developer.amazon.com](https://developer.amazon.com) にアクセス
2. Alexa Skills Kit を選択
3. 新しいスキルを作成:
   - スキル名: `在庫管理`
   - 言語: `日本語`
   - モデル: `カスタム`
   - ホスティング: `自分で用意`

### 2. インタラクションモデルの設定
1. ビルド タブ → JSON エディター
2. `alexa-skill.json` の内容をコピー&ペースト
3. 「モデルを保存」→「モデルをビルド」

### 3. エンドポイント設定
**テスト用 (ngrok)**
```bash
ngrok http 3000
```

**本番用**
- Heroku、AWSなどにデプロイ
- HTTPS URL が必要

エンドポイント: `https://your-server.com/api/alexa`

### 4. 音声コマンド例（買い物リストと区別するため明確な表現を使用）

**追加コマンド:**
- 「にんじんを4個冷蔵庫に追加した」
- 「たまごを6個冷蔵庫に入れた」
- 「在庫として牛乳を2本追加した」
- 「今りんごを3個冷蔵庫に入れた」

**確認コマンド:**
- 「冷蔵庫のにんじんはいくつある？」
- 「在庫のたまごの数を教えて」
- 「牛乳の在庫残量は？」
- 「冷蔵庫のりんごをチェック」

**消費コマンド:**
- 「冷蔵庫からにんじんを2個使った」
- 「たまごを3個料理で使った」
- 「在庫の牛乳を1本減らして」
- 「冷蔵庫からりんごを1個取り出した」

## Siri ショートカット設定

### 食材追加ショートカット
1. ショートカット アプリを開く
2. 新しいショートカットを作成
3. 以下のアクションを追加:

#### アクション1: 音声入力を求める
- プロンプト: 「何を追加しましたか？」

#### アクション2: URL取得
- URL: `http://YOUR_SERVER:3000/api/inventory/add`

#### アクション3: URLの内容を取得
- メソッド: POST
- リクエスト本文: JSON
```json
{
  "item": "にんじん",
  "quantity": 4,
  "location": "冷蔵庫"
}
```

#### アクション4: テキストを読み上げ
- テキスト: 「在庫に追加しました」

### 在庫確認ショートカット
同様に作成し、確認用のエンドポイントを使用

### 使用例
- 「Hey Siri、食材追加」→「にんじん4個を冷蔵庫に」
- 「Hey Siri、在庫確認」→「にんじん」

## サポートされている食材
- にんじん / 人参 / ニンジン / キャロット
- たまご / 卵 / タマゴ / エッグ
- 牛乳 / ミルク / ぎゅうにゅう
- りんご / リンゴ / アップル
- パン / ぱん / ブレッド
- バター / ばたー
- チーズ / ちーず
- 米 / お米 / こめ / ライス

新しい食材を追加したい場合は、`server.js` の `japaneseToEnglish` オブジェクトに追加してください。

## 保存場所
- 冷蔵庫（デフォルト）
- パントリー
- 冷凍庫
- 棚